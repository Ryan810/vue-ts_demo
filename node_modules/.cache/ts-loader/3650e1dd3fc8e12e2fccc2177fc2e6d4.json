{"remainingRequest":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/babel-loader/lib/index.js!/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/ts-loader/index.js??ref--14-2!/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/eslint-loader/index.js??ref--13-0!/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/src/store/DataHelper.ts","dependencies":[{"path":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/src/store/DataHelper.ts","mtime":1587625170850},{"path":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3h1eXVhbi9Eb2N1bWVudHMvRm9udCBFbmQvVFMvdHNWdWUvdHNtZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3h1eXVhbi9Eb2N1bWVudHMvRm9udCBFbmQvVFMvdHNWdWUvdHNtZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CgovLyBEYXRhSGVscGVy57G7IC0g6LSf6LSjbG9jYWxTdG9yYWdl5pON5L2cCnZhciBEYXRhSGVscGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBEYXRhSGVscGVyKGRhdGFLZXksIHByaW1hcnlLZXkpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRhSGVscGVyKTsKCiAgICB0aGlzLmRhdGFLZXkgPSBkYXRhS2V5OwogICAgdGhpcy5wcmltYXJ5S2V5ID0gcHJpbWFyeUtleTsKICB9CgogIF9jcmVhdGVDbGFzcyhEYXRhSGVscGVyLCBbewogICAga2V5OiAicmVhZERhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWREYXRhKCkgewogICAgICAvLyAx44CB6K+75Y+W5pys5Zy65pWw5o2u77yI5qC55o2uZGF0YUtleeivu+WPlu+8iQogICAgICB2YXIgc3RyRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuZGF0YUtleSk7IC8vIDLjgIHlsIbor7vlj5bnmoRqc29u5pWw5o2u5a2X56ym5Liy6L2s5o2i5oiQ5pWw57uE5a+56LGhCgogICAgICB2YXIgYXJyRGF0YSA9IFtdOwoKICAgICAgaWYgKHN0ckRhdGEgIT09IG51bGwpIHsKICAgICAgICBhcnJEYXRhID0gSlNPTi5wYXJzZShzdHJEYXRhKTsKICAgICAgfSAvLyAz44CB5bCG5pWw57uE5a+56LGh6L+U5ZueCgoKICAgICAgcmV0dXJuIGFyckRhdGE7CiAgICB9CiAgfSwgewogICAga2V5OiAic2F2ZURhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVEYXRhKGFyckRhdGEpIHsKICAgICAgLy8gMeOAgeWwhuaVsOaNrui9rOaNouaIkEpTT07lrZfnrKbkuLIKICAgICAgdmFyIHN0ciA9IEpTT04uc3RyaW5naWZ5KGFyckRhdGEpOyAvLyAy44CB5bCG5a2X56ym5Liy5L+d5a2Y5Yiw5pys5ZywbG9jYWxzdG9yYWdlCgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmRhdGFLZXksIHN0cik7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRGF0YShjb25TdHIpIHsKICAgICAgLy8gMeOAgeivu+WPluacrOWcsOeOsOacieaVsOaNrgogICAgICB2YXIgYXJyID0gdGhpcy5yZWFkRGF0YSgpOyAvLyAy44CB5Yib5bu65LiA5Liq6K+E6K665a+56LGh77yM5bm26K6+572u6K+E6K665YaF5a65CgogICAgICB2YXIgb2JqID0gewogICAgICAgIGNvbnRlbnQ6IGNvblN0cgogICAgICB9OyAvLyAzLjHjgIHoh6rliqjnlJ/miJDkuLvplK5pZO+8jCB7Y29udGVudDogJ3h4eCd9CgogICAgICB2YXIgbmV3SWQgPSBhcnJbYXJyLmxlbmd0aCAtIDFdID8gYXJyW2Fyci5sZW5ndGggLSAxXVt0aGlzLnByaW1hcnlLZXldICsgMSA6IDE7IC8vIDMuMuOAgeWwhmlk5YC85re75Yqg5Yiw5a+56LGh77yMIHtjb250ZW50OiAneHh4JywgaWQ6IDF9CgogICAgICBvYmpbdGhpcy5wcmltYXJ5S2V5XSA9IG5ld0lkOyAvLyA044CB5bCG5re75Yqg55qE5a+56LGh5re75Yqg5Yiw5pWw57uECgogICAgICBhcnIucHVzaChvYmopOyAvLyA144CB5bCGIOaVsOaNruS/neWtmOWIsGxvY2Fsc3RvcmFnZeS4rQoKICAgICAgdGhpcy5zYXZlRGF0YShhcnIpOyAvLyA244CB6L+U5ZueIGlkCgogICAgICByZXR1cm4gbmV3SWQ7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRGF0YShpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8g6K+75Y+W5pys5Zyw5pWw5o2uCiAgICAgIHZhciBhcnIgPSB0aGlzLnJlYWREYXRhKCk7IC8vIOafpeaJvuimgeWIoOmZpOivhOiuuuWvueixoeeahOS4i+agh++8jCDlubbkv53lrZjliLDmnKzlnLAKCiAgICAgIHZhciBpbmRleCA9IGFyci5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaWQgPT09IGl0ZW1bX3RoaXMucHJpbWFyeUtleV07CiAgICAgIH0pOyAvLyDlpoLmnpzkuIvmoIflpKfkuo4tMe+8jCDliJnliKDpmaTmlbDnu4TkuK3or6XkuIvmoIflhYPntKDlr7nosaHvvIzlubbov5Tlm550cnVlCgogICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpOyAvLyDkv53lrZjmnKzlnLAKCiAgICAgICAgdGhpcy5zYXZlRGF0YShhcnIpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7IC8vIOWQpuWImei/lOWbnmZhbHNlCiAgICB9CiAgfV0pOwoKICByZXR1cm4gRGF0YUhlbHBlcjsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgRGF0YUhlbHBlcjs="},{"version":3,"sources":["/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/eslint-loader/index.js??ref--13-0!/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/src/store/DataHelper.ts"],"names":[],"mappings":";;;;;AAAA;IACM,U;AAGF,sBAAY,OAAZ,EAA6B,UAA7B,EAA+C;AAAA;;AAC3C,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,UAAL,GAAkB,UAAlB;AACH;;;;+BACO;AACJ;AACA,UAAI,OAAO,GAAkB,YAAY,CAAC,OAAb,CAAqB,KAAK,OAA1B,CAA7B,CAFI,CAGJ;;AACA,UAAI,OAAO,GAAQ,EAAnB;;AACA,UAAI,OAAO,KAAK,IAAhB,EAAsB;AAClB,QAAA,OAAO,GAAG,IAAI,CAAC,KAAL,CAAW,OAAX,CAAV;AACH,OAPG,CAQJ;;;AACA,aAAO,OAAP;AACH;;;6BACQ,O,EAAgB;AACrB;AACA,UAAI,GAAG,GAAW,IAAI,CAAC,SAAL,CAAe,OAAf,CAAlB,CAFqB,CAGrB;;AACA,MAAA,YAAY,CAAC,OAAb,CAAqB,KAAK,OAA1B,EAAmC,GAAnC;AACH;;;4BACO,M,EAAW;AACf;AACA,UAAI,GAAG,GAAQ,KAAK,QAAL,EAAf,CAFe,CAGf;;AACA,UAAI,GAAG,GAAQ;AACX,QAAA,OAAO,EAAE;AADE,OAAf,CAJe,CAOf;;AACA,UAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,MAAJ,GAAa,CAAd,CAAH,GAAsB,GAAG,CAAC,GAAG,CAAC,MAAJ,GAAa,CAAd,CAAH,CAAoB,KAAK,UAAzB,IAAuC,CAA7D,GAAiE,CAA7E,CARe,CASf;;AACA,MAAA,GAAG,CAAC,KAAK,UAAN,CAAH,GAAuB,KAAvB,CAVe,CAWf;;AACA,MAAA,GAAG,CAAC,IAAJ,CAAS,GAAT,EAZe,CAaf;;AACA,WAAK,QAAL,CAAc,GAAd,EAde,CAef;;AACA,aAAO,KAAP;AACH;;;+BACU,E,EAAU;AAAA;;AACjB;AACA,UAAI,GAAG,GAAG,KAAK,QAAL,EAAV,CAFiB,CAGjB;;AACA,UAAI,KAAK,GAAG,GAAG,CAAC,SAAJ,CAAc,UAAC,IAAD,EAAc;AACpC,eAAO,EAAE,KAAK,IAAI,CAAC,KAAI,CAAC,UAAN,CAAlB;AACH,OAFW,CAAZ,CAJiB,CAOjB;;AACA,UAAI,KAAK,GAAG,CAAC,CAAb,EAAgB;AACZ,QAAA,GAAG,CAAC,MAAJ,CAAW,KAAX,EAAkB,CAAlB,EADY,CAEZ;;AACA,aAAK,QAAL,CAAc,GAAd;AACA,eAAO,IAAP;AACH;;AACD,aAAO,KAAP,CAdiB,CAcJ;AAChB;;;;;;AAEL,eAAe,UAAf","sourcesContent":["// DataHelper类 - 负责localStorage操作\nclass DataHelper {\n    dataKey: string\n    primaryKey: string\n    constructor(dataKey: string, primaryKey: string) {\n        this.dataKey = dataKey\n        this.primaryKey = primaryKey\n    }\n    readData():any {\n        // 1、读取本场数据（根据dataKey读取）\n        let strData: string | null = localStorage.getItem(this.dataKey)\n        // 2、将读取的json数据字符串转换成数组对象\n        let arrData: any = []\n        if (strData !== null) {\n            arrData = JSON.parse(strData)\n        }\n        // 3、将数组对象返回\n        return arrData\n    }\n    saveData(arrData:object[]): void {\n        // 1、将数据转换成JSON字符串\n        let str: string = JSON.stringify(arrData)\n        // 2、将字符串保存到本地localstorage\n        localStorage.setItem(this.dataKey, str)\n    }\n    addData(conStr: any):number {\n        // 1、读取本地现有数据\n        let arr: any = this.readData()\n        // 2、创建一个评论对象，并设置评论内容\n        let obj: any = {\n            content: conStr\n        }\n        // 3.1、自动生成主键id， {content: 'xxx'}\n        let newId = arr[arr.length - 1] ? arr[arr.length - 1][this.primaryKey] + 1 : 1\n        // 3.2、将id值添加到对象， {content: 'xxx', id: 1}\n        obj[this.primaryKey] = newId\n        // 4、将添加的对象添加到数组\n        arr.push(obj)\n        // 5、将 数据保存到localstorage中\n        this.saveData(arr)\n        // 6、返回 id\n        return newId\n    }\n    removeData(id: number): boolean {\n        // 读取本地数据\n        let arr = this.readData()\n        // 查找要删除评论对象的下标， 并保存到本地\n        let index = arr.findIndex((item: any) => {\n            return id === item[this.primaryKey]\n        })\n        // 如果下标大于-1， 则删除数组中该下标元素对象，并返回true\n        if (index > -1) {\n            arr.splice(index, 1)\n            // 保存本地\n            this.saveData(arr)\n            return true\n        }\n        return false // 否则返回false\n    }\n}\nexport default DataHelper\n"],"sourceRoot":""}]}
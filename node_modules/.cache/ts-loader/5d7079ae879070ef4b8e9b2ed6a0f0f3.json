{"remainingRequest":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/babel-loader/lib/index.js!/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/ts-loader/index.js??ref--14-2!/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/eslint-loader/index.js??ref--13-0!/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/src/store/ActionHelper.ts","dependencies":[{"path":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/src/store/ActionHelper.ts","mtime":1587702004604},{"path":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy94dXl1YW4vRG9jdW1lbnRzL0ZvbnQgRW5kL1RTL3RzVnVlL3RzbWVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy94dXl1YW4vRG9jdW1lbnRzL0ZvbnQgRW5kL1RTL3RzVnVlL3RzbWVtby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgRGF0YUhlbHBlciBmcm9tICcuL0RhdGFIZWxwZXInOwppbXBvcnQgSXRlbURhdGEgZnJvbSAnLi4vbW9kZWwvSXRlbURhdGEnOwoKdmFyIEFjdGlvbkhlbHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgLy8gbWVtb0xpc3QhOiBBcnJheTxJdGVtRGF0YT4KICBmdW5jdGlvbiBBY3Rpb25IZWxwZXIoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWN0aW9uSGVscGVyKTsKCiAgICAvLyAx44CB6LSf6LSj5pWw5o2u5aSE55CGCiAgICB0aGlzLmRhdGFIZWxwZXIgPSBuZXcgRGF0YUhlbHBlcignbWVtb0RhdGEnLCAnaWQnKTsKICAgIHRoaXMubWVtb0xpc3QgPSB0aGlzLnJlYWREYXRhKCk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQWN0aW9uSGVscGVyLCBbewogICAga2V5OiAiZ2V0Q2F0ZWdyeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2F0ZWdyeShjYXRlSWQpIHsKICAgICAgdmFyIGNhdGVOYW1lcyA9IFsn5bel5L2cJywgJ+eUn+a0uycsICflrabkuaAnXTsKICAgICAgcmV0dXJuIGNhdGVOYW1lc1tjYXRlSWRdOwogICAgfQogICAgLyoKICAgICAqIOe7huiKgu+8mui/memHjOS4jeiDveebtOaOpeeUqGRhdGFIZWxwZXIucmVhZERhdGEoKeaWueazle+8jOWboOS4uuWug+i/lOWbnueahOexu+Wei+aYr0FycmF5PE9iamVjdD7vvIzopoHmiorlroPovazmiJBBcnJheTxJdGVtRGF0YT7moLzlvI8KICAgICovCgogIH0sIHsKICAgIGtleTogInJlYWREYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWFkRGF0YSgpIHsKICAgICAgLy8gMeOAgeivu+WPluacrOWcsOeahE9iamVjdOaVsOe7hCAgZGF0YUhlbHBlcgogICAgICB2YXIgYXJyT2JqID0gdGhpcy5kYXRhSGVscGVyLnJlYWREYXRhKCk7IC8vIDLjgIHlsIZPYmplY3TmlbDnu4TovazmiJBJdGVtRGF0YSDmlbDnu4QKCiAgICAgIHZhciBhcnJJdGVtID0gYXJyT2JqLm1hcChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBuZXcgSXRlbURhdGEoKTsKICAgICAgICBpdGVtLmlkID0gZWxlLmlkOwogICAgICAgIGl0ZW0uY2F0ZUlkID0gZWxlLmNhdGVJZDsKICAgICAgICBpdGVtLnRpdGxlID0gZWxlLnRpdGxlOwogICAgICAgIGl0ZW0uY29udGVudCA9IGVsZS5jb250ZW50OwogICAgICAgIGl0ZW0uY3JlYXRlVGltZSA9IGVsZS5jcmVhdGVUaW1lOwogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KTsKICAgICAgcmV0dXJuIGFyckl0ZW07CiAgICB9IC8vIDLjgIHotJ/otKPkuJrliqHlpITnkIYKICAgIC8vIDIuMSDmlrDlop4KCiAgfSwgewogICAga2V5OiAiYWRkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoaXRlbSkgewogICAgICAvLyDkv53lrZjliLDmnKzlnLDvvIzov5Tlm57mlrDnlJ/miJDnmoRpZAogICAgICBpdGVtLmlkID0gdGhpcy5kYXRhSGVscGVyLmFkZERhdGEoaXRlbSk7IC8vIOWwhueslOiusOa3u+WKoOWIsOeslOiusOWIl+ihqOS4rQoKICAgICAgdGhpcy5tZW1vTGlzdC5wdXNoKGl0ZW0pOyAvLyDlsIYg56yU6K6w5YiX6KGo5a2Y5Yiw5pys5ZywCgogICAgICB0aGlzLmRhdGFIZWxwZXIuc2F2ZURhdGEodGhpcy5tZW1vTGlzdCk7IC8vIOi/lOWbnuaWsOWinueahOeslOiusGlkCgogICAgICByZXR1cm4gaXRlbS5pZDsKICAgIH0gLy8gMi4yIOe8lui+kQoKICB9LCB7CiAgICBrZXk6ICJlZGl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlZGl0KGl0ZW0pIHsKICAgICAgLy8g5om+5Ye65pWw57uE5LitaWTnm7jlkIznmoTlr7nosaEKICAgICAgdmFyIGVkaXRJdGVtID0gdGhpcy5tZW1vTGlzdC5maW5kKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICByZXR1cm4gZWxlLmlkID09PSBpdGVtLmlkOwogICAgICB9KTsgLy8g5L+u5pS55a+56LGh55qE5YC8CgogICAgICBpZiAoZWRpdEl0ZW0pIHsKICAgICAgICBlZGl0SXRlbS50aXRsZSA9IGl0ZW0udGl0bGU7CiAgICAgICAgZWRpdEl0ZW0uY2F0ZUlkID0gaXRlbS5jYXRlSWQ7CiAgICAgICAgZWRpdEl0ZW0uY29udGVudCA9IGl0ZW0uY29udGVudDsgLy8g5L+d5a2Y5pu05paw5ZCO55qE5pWw5o2uCgogICAgICAgIHRoaXMuZGF0YUhlbHBlci5zYXZlRGF0YSh0aGlzLm1lbW9MaXN0KTsKICAgICAgfQogICAgfSAvLyAyLjMg5Yig6ZmkCgogIH0sIHsKICAgIGtleTogInJlbW92ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKGlkKSB7CiAgICAgIC8vIOagueaNrmlk5om+5Yiw5Yig6Zmk5a+56LGh55qE5LiL5qCHCiAgICAgIHZhciByZW1vdmVJbmRleCA9IHRoaXMubWVtb0xpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICByZXR1cm4gZWxlLmlkID09PSBpZDsKICAgICAgfSk7IC8vIOWIoOmZpOWvueixoQoKICAgICAgaWYgKHJlbW92ZUluZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLm1lbW9MaXN0LnNwbGljZShyZW1vdmVJbmRleCwgMSk7IC8vIOS/neWtmOWIoOmZpOWQjueahOWvueixoeaVsOe7hAoKICAgICAgICB0aGlzLmRhdGFIZWxwZXIuc2F2ZURhdGEodGhpcy5tZW1vTGlzdCk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBBY3Rpb25IZWxwZXI7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IEFjdGlvbkhlbHBlcjs="},{"version":3,"sources":["/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/node_modules/eslint-loader/index.js??ref--13-0!/Users/xuyuan/Documents/Font End/TS/tsVue/tsmemo/src/store/ActionHelper.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,UAAP,MAAuB,cAAvB;AACA,OAAO,QAAP,MAAqB,mBAArB;;IAEM,Y;AAKF;AACA,0BAAA;AAAA;;AALA;AACA,SAAA,UAAA,GAAyB,IAAI,UAAJ,CAAe,UAAf,EAA2B,IAA3B,CAAzB;AAKI,SAAK,QAAL,GAAgB,KAAK,QAAL,EAAhB;AACH;;;;+BAEU,M,EAAc;AACrB,UAAM,SAAS,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAAlB;AACA,aAAO,SAAS,CAAC,MAAD,CAAhB;AACH;AAED;;;;;;+BAGQ;AACJ;AACA,UAAI,MAAM,GAAG,KAAK,UAAL,CAAgB,QAAhB,EAAb,CAFI,CAGJ;;AACA,UAAI,OAAO,GAAG,MAAM,CAAC,GAAP,CAAW,UAAC,GAAD,EAAY;AACjC,YAAI,IAAI,GAAY,IAAI,QAAJ,EAApB;AACA,QAAA,IAAI,CAAC,EAAL,GAAU,GAAG,CAAC,EAAd;AACA,QAAA,IAAI,CAAC,MAAL,GAAc,GAAG,CAAC,MAAlB;AACA,QAAA,IAAI,CAAC,KAAL,GAAa,GAAG,CAAC,KAAjB;AACA,QAAA,IAAI,CAAC,OAAL,GAAe,GAAG,CAAC,OAAnB;AACA,QAAA,IAAI,CAAC,UAAL,GAAkB,GAAG,CAAC,UAAtB;AACA,eAAO,IAAP;AACH,OARa,CAAd;AASA,aAAO,OAAP;AACH,K,CAED;AACA;;;;wBACI,I,EAAc;AACd;AACA,MAAA,IAAI,CAAC,EAAL,GAAU,KAAK,UAAL,CAAgB,OAAhB,CAAwB,IAAxB,CAAV,CAFc,CAGd;;AACA,WAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,EAJc,CAKd;;AACA,WAAK,UAAL,CAAgB,QAAhB,CAAyB,KAAK,QAA9B,EANc,CAOd;;AACA,aAAO,IAAI,CAAC,EAAZ;AACH,K,CAED;;;;yBACK,I,EAAa;AACd;AACA,UAAI,QAAQ,GAAwB,KAAK,QAAL,CAAc,IAAd,CAAmB,UAAC,GAAD,EAAa;AAChE,eAAO,GAAG,CAAC,EAAJ,KAAW,IAAI,CAAC,EAAvB;AACH,OAFmC,CAApC,CAFc,CAKd;;AACA,UAAI,QAAJ,EAAc;AACV,QAAA,QAAQ,CAAC,KAAT,GAAiB,IAAI,CAAC,KAAtB;AACA,QAAA,QAAQ,CAAC,MAAT,GAAkB,IAAI,CAAC,MAAvB;AACA,QAAA,QAAQ,CAAC,OAAT,GAAmB,IAAI,CAAC,OAAxB,CAHU,CAIV;;AACA,aAAK,UAAL,CAAgB,QAAhB,CAAyB,KAAK,QAA9B;AACH;AACJ,K,CAED;;;;2BACO,E,EAAU;AACb;AACA,UAAI,WAAW,GAAW,KAAK,QAAL,CAAc,SAAd,CAAwB,UAAC,GAAD,EAAkB;AAChE,eAAO,GAAG,CAAC,EAAJ,KAAW,EAAlB;AACH,OAFyB,CAA1B,CAFa,CAKb;;AACA,UAAI,WAAW,GAAG,CAAC,CAAnB,EAAsB;AAClB,aAAK,QAAL,CAAc,MAAd,CAAqB,WAArB,EAAkC,CAAlC,EADkB,CAElB;;AACA,aAAK,UAAL,CAAgB,QAAhB,CAAyB,KAAK,QAA9B;AACH;AACJ;;;;;;AAGL,eAAe,YAAf","sourcesContent":["import DataHelper from './DataHelper'\nimport ItemData from '../model/ItemData'\n\nclass ActionHelper {\n    // 1、负责数据处理\n    dataHelper: DataHelper = new DataHelper('memoData', 'id')\n    // 1.1、笔记数组\n    memoList!: ItemData[]\n    // memoList!: Array<ItemData>\n    constructor () {\n        this.memoList = this.readData()\n    }\n\n    getCategry(cateId: number): string {\n        const cateNames = ['工作', '生活', '学习']\n        return cateNames[cateId]\n    }\n\n    /*\n     * 细节：这里不能直接用dataHelper.readData()方法，因为它返回的类型是Array<Object>，要把它转成Array<ItemData>格式\n    */ \n    readData(): Array<ItemData> {\n        // 1、读取本地的Object数组  dataHelper\n        let arrObj = this.dataHelper.readData()\n        // 2、将Object数组转成ItemData 数组\n        let arrItem = arrObj.map((ele:any) => {\n            let item:ItemData = new ItemData()\n            item.id = ele.id\n            item.cateId = ele.cateId\n            item.title = ele.title\n            item.content = ele.content\n            item.createTime = ele.createTime\n            return item\n        })\n        return arrItem\n    }\n\n    // 2、负责业务处理\n    // 2.1 新增\n    add(item: ItemData): number {\n        // 保存到本地，返回新生成的id\n        item.id = this.dataHelper.addData(item)\n        // 将笔记添加到笔记列表中\n        this.memoList.push(item)\n        // 将 笔记列表存到本地\n        this.dataHelper.saveData(this.memoList)\n        // 返回新增的笔记id\n        return item.id\n    }\n\n    // 2.2 编辑\n    edit(item:ItemData): void {\n        // 找出数组中id相同的对象\n        let editItem:ItemData | undefined = this.memoList.find((ele: any) => {\n            return ele.id === item.id\n        })\n        // 修改对象的值\n        if (editItem) {\n            editItem.title = item.title\n            editItem.cateId = item.cateId\n            editItem.content = item.content\n            // 保存更新后的数据\n            this.dataHelper.saveData(this.memoList)\n        }\n    }\n\n    // 2.3 删除\n    remove(id: number): void {\n        // 根据id找到删除对象的下标\n        let removeIndex: number = this.memoList.findIndex((ele: ItemData) => {\n            return ele.id === id\n        })\n        // 删除对象\n        if (removeIndex > -1) {\n            this.memoList.splice(removeIndex, 1)\n            // 保存删除后的对象数组\n            this.dataHelper.saveData(this.memoList)\n        }\n    }\n}\n\nexport default ActionHelper\n"],"sourceRoot":""}]}